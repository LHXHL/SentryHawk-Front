import{g as T,a as U,b as L}from"./assets-CLxc4xtE.js";import{d as j,h as M,i as p,j as q,r as d,c as F,o as y,b as a,w as t,e as u,t as _,a as i,g as h,k as C}from"./index-BgQJFBPu.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"card content-box"},J=j({name:"AssetDetail"}),K=j({...J,setup(O){const x=M(),s=p({id:"",asset:"",asset_type:"",asset_project:"",asset_editor_time:"",asset_note:"",ehole_fingerprints:[],tide_fingerprints:[],ip_info_list:[]}),D=async()=>{var l;try{const{data:e}=await T({id:x.params.id});e.ip_info_list=(l=e.ip_info_list)==null?void 0:l.filter(n=>n.service!=null&&n.service!=""),s.value=e}catch{}},m=p(),c=p({projectId:1,pageSize:10,pageNum:1,target_id:x.params.id}),f=async()=>{const{data:l}=await U(c.value);m.value=l},V=l=>{c.value.pageNum=l,f()},I=l=>{c.value.pageSize=l,f()},v=p({projectId:1,pageSize:10,pageNum:1,target_id:x.params.id}),b=p(),k=async()=>{const{data:l}=await L(v.value);b.value=l},B=l=>{v.value.pageNum=l,k()},A=l=>{v.value.pageSize=l,f()};q(()=>{D(),f(),k()});const E=p("large"),N=p(["0"]);return(l,e)=>{const n=d("el-descriptions-item"),P=d("el-descriptions"),o=d("el-table-column"),z=d("el-table"),S=d("el-collapse-item"),w=d("el-pagination"),R=d("el-collapse");return y(),F("div",H,[a(P,{title:"资产详情",extra:"",column:2,size:E.value,border:"",style:{"margin-top":"10px",padding:"0"}},{default:t(()=>[a(n,null,{label:t(()=>e[1]||(e[1]=[i("div",{class:"cell-item"},"资产",-1)])),default:t(()=>[u(" "+_(s.value.asset),1)]),_:1}),a(n,null,{label:t(()=>e[2]||(e[2]=[i("div",{class:"cell-item"},"所属项目",-1)])),default:t(()=>[u(" "+_(s.value.asset_project),1)]),_:1}),a(n,null,{label:t(()=>e[3]||(e[3]=[i("div",{class:"cell-item"},"资产类型",-1)])),default:t(()=>[u(" "+_(s.value.asset_type),1)]),_:1}),a(n,null,{label:t(()=>e[4]||(e[4]=[i("div",{class:"cell-item"},"资产最新修改时间",-1)])),default:t(()=>[u(" "+_(s.value.asset_editor_time),1)]),_:1}),a(n,null,{label:t(()=>e[5]||(e[5]=[i("div",{class:"cell-item"},"Ehole指纹",-1)])),default:t(()=>[u(" "+_(s.value.ehole_fingerprints&&s.value.ehole_fingerprints.join(",")),1)]),_:1}),a(n,null,{label:t(()=>e[6]||(e[6]=[i("div",{class:"cell-item"},"Tide指纹",-1)])),default:t(()=>[u(" "+_(s.value.tide_fingerprints&&s.value.tide_fingerprints.join(",")),1)]),_:1})]),_:1},8,["size"]),a(R,{modelValue:N.value,"onUpdate:modelValue":e[0]||(e[0]=r=>N.value=r),style:{width:"100%"},accordion:""},{default:t(()=>[a(S,{title:"端口",name:"0"},{title:t(()=>e[7]||(e[7]=[i("div",{class:"el-descriptions__title"},"端口",-1)])),default:t(()=>[i("div",null,[s.value.ip_info_list?(y(),h(z,{key:0,style:{width:"100%"},data:s.value.ip_info_list,"max-height":"300px",border:"","header-cell-style":{"background-color":"#f5f7fa"}},{default:t(()=>[a(o,{fixed:"",prop:"port",label:"端口"}),a(o,{prop:"status",label:"状态"}),a(o,{prop:"service",label:"服务"}),a(o,{prop:"version",label:"版本"})]),_:1},8,["data"])):C("",!0)])]),_:1}),a(S,{title:"敏感目录",name:"1"},{title:t(()=>e[8]||(e[8]=[i("div",{class:"el-descriptions__title"},"敏感目录",-1)])),default:t(()=>{var r,g;return[i("div",null,[(r=m.value)!=null&&r.list?(y(),h(z,{key:0,style:{width:"100%"},data:m.value.list,"max-height":"300px",border:"","header-cell-style":{"background-color":"#f5f7fa"}},{default:t(()=>[a(o,{fixed:"",prop:"title",label:"标题"}),a(o,{prop:"url",label:"URL"}),a(o,{prop:"status",label:"状态"})]),_:1},8,["data"])):C("",!0),a(w,{background:"",layout:"prev, pager, next, sizes","current-page":c.value.pageNum,"page-size":c.value.pageSize,total:(g=m.value)==null?void 0:g.total,onCurrentChange:V,onSizeChange:I,style:{"margin-top":"10px"}},null,8,["current-page","page-size","total"])])]}),_:1}),a(S,{title:"敏感信息",name:"2"},{title:t(()=>e[9]||(e[9]=[i("div",{class:"el-descriptions__title"},"敏感信息",-1)])),default:t(()=>{var r,g;return[i("div",null,[(r=b.value)!=null&&r.list?(y(),h(z,{key:0,style:{width:"100%"},data:b.value.list,"max-height":"300px",border:"","header-cell-style":{"background-color":"#f5f7fa"}},{default:t(()=>[a(o,{fixed:"",prop:"type",label:"类型"}),a(o,{prop:"content",label:"内容"})]),_:1},8,["data"])):C("",!0),a(w,{background:"",layout:"prev, pager, next, sizes","current-page":v.value.pageNum,"page-size":v.value.pageSize,total:(g=b.value)==null?void 0:g.total,onCurrentChange:B,onSizeChange:A,style:{"margin-top":"10px"}},null,8,["current-page","page-size","total"])])]}),_:1})]),_:1},8,["modelValue"])])}}}),Y=G(K,[["__scopeId","data-v-3f16f37d"]]);export{Y as default};
