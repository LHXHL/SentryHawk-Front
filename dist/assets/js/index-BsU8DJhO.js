import{u as p}from"./useHandleData-Cn0KCz0Y.js";import{_ as C}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-sBvBigU3.js";import{T as w}from"./index-DMNBHxCI.js";import{I}from"./index-CUze1Xue.js";import{z as b,d as g,i as S,m as d,r as u,c as D,o as L,b as a,a as q,u as l,w as r,p as m,e as f}from"./index-ICckUsEc.js";import{c as A}from"./assets-DIi7FFfH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";const N=n=>b.post("/getSensitive_infoList/",n),_=n=>b.post("/Sensitive_info/delete/",n),$={class:"main-box"},j={class:"table-box"},B=g({name:"useTreeFilter"}),G=g({...B,setup(n){const o=S(),c=d({projectId:""}),v=t=>{o.value.pageable.pageNum=1,c.projectId=t},h=d([{type:"selection",width:50},{prop:"type",label:"类型",search:{el:"input"}},{prop:"content",label:"内容"},{prop:"target",label:"所属资产",search:{el:"input"}},{prop:"operation",label:"操作",width:210,fixed:"right"}]),x=async t=>{var e;await p(_,{id:[t.id]},`删除【${t.info}】资产`),(e=o.value)==null||e.getTableList()},T=async t=>{var e,i;await p(_,{id:t},"删除所选用户信息"),(e=o.value)==null||e.clearSelection(),(i=o.value)==null||i.getTableList()};return(t,e)=>{const i=u("el-button"),k=u("AssetDialog");return L(),D("div",$,[a(w,{label:"name",title:"单位列表","request-api":l(A),"default-value":c.projectId,onChange:v},null,8,["request-api","default-value"]),q("div",j,[a(C,{ref_key:"proTable",ref:o,columns:h,"request-api":l(N),"init-param":c,"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:r(s=>[a(i,{type:"danger",icon:l(m),disabled:!s.isSelected,onClick:y=>T(s.selectedListIds)},{default:r(()=>e[0]||(e[0]=[f("批量删除")])),_:2},1032,["icon","disabled","onClick"])]),operation:r(s=>[a(i,{type:"primary",link:"",icon:l(m),onClick:y=>x(s.row)},{default:r(()=>e[1]||(e[1]=[f("删除")])),_:2},1032,["icon","onClick"])]),_:1},8,["columns","request-api","init-param"]),a(k,{ref:"DialogRef"},null,512),a(I,{ref:"dialogRef"},null,512)])])}}});export{G as default};
