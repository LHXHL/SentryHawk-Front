import{u as $}from"./useHandleData-DW4kA-As.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-D0RK73s3.js";import{I as D}from"./index-BjdKsW-_.js";import{d as y,i as d,m as b,r as L,C as U,c as B,o as m,b as i,w as r,u as n,v as P,e as s,n as I,p as N,D as k,g as v,q as V,s as q}from"./index-Bj5Pylhr.js";import{d as E,B as H,e as J,b as O,c as S,g as h}from"./user-DXATE8oe.js";import{_ as j}from"./RoleDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-_ElPDBQH.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";const z={class:"table-box"},F=y({name:"useProTable"}),te=y({...F,setup(G){const p=d(),T=b({type:1}),w=t=>({list:t.list,total:t.total}),g=t=>{let e=JSON.parse(JSON.stringify(t));return e.createTime&&(e.startTime=e.createTime[0]),e.createTime&&(e.endTime=e.createTime[1]),delete e.createTime,h()},C=b([{type:"selection",fixed:"left",width:70},{prop:"id",label:"ID"},{prop:"group_name",label:"用户组"},{prop:"operation",label:"操作",fixed:"right",width:330}]),x=async t=>{var e;await $(E,{id:[t.id]},`删除【${t.group_name}】用户组`),(e=p.value)==null||e.getTableList()},u=d(null),R=()=>{var e,a;const t={title:"用户",tempApi:J,importApi:H,getTableList:(e=p.value)==null?void 0:e.getTableList};(a=u.value)==null||a.acceptParams(t)},f=d(null),c=(t,e={})=>{var l,o;const a={title:t,isView:t==="查看",row:{...e},api:t==="新增"?O:t==="编辑"?S:void 0,getTableList:(l=p.value)==null?void 0:l.getTableList};(o=f.value)==null||o.acceptParams(a)};return(t,e)=>{const a=L("el-button"),l=U("auth");return m(),B("div",z,[i(A,{ref_key:"proTable",ref:p,columns:C,"request-api":g,"init-param":T,"data-callback":w},{tableHeader:r(()=>[k((m(),v(a,{type:"primary",icon:n(V),onClick:e[0]||(e[0]=o=>c("新增"))},{default:r(()=>e[1]||(e[1]=[s("新增用户组")])),_:1},8,["icon"])),[[l,"add"]]),k((m(),v(a,{type:"primary",icon:n(q),plain:"",onClick:R},{default:r(()=>e[2]||(e[2]=[s("批量添加用户组")])),_:1},8,["icon"])),[[l,"batchAdd"]])]),operation:r(o=>[i(a,{type:"primary",link:"",icon:n(P),onClick:_=>c("查看",o.row)},{default:r(()=>e[3]||(e[3]=[s("查看")])),_:2},1032,["icon","onClick"]),i(a,{type:"primary",link:"",icon:n(I),onClick:_=>c("编辑",o.row)},{default:r(()=>e[4]||(e[4]=[s("编辑")])),_:2},1032,["icon","onClick"]),i(a,{type:"primary",link:"",icon:n(N),onClick:_=>x(o.row)},{default:r(()=>e[5]||(e[5]=[s("删除")])),_:2},1032,["icon","onClick"])]),_:1},8,["columns","init-param"]),i(j,{ref_key:"drawerRef",ref:f},null,512),i(D,{ref_key:"dialogRef",ref:u},null,512)])}}});export{te as default};
