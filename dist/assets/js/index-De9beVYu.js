import{u}from"./useHandleData-DW4kA-As.js";import{_ as k}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-D0RK73s3.js";import{g as y,O as C,d as m,a as x,e as j}from"./OrganizationDialog-DauTeDCC.js";import{d as b,i as _,m as T,r as h,c as D,o as L,a as $,b as i,w as n,u as s,n as P,e as p,p as f,q as N}from"./index-Bj5Pylhr.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";import"./user-DXATE8oe.js";const q={class:"main-box"},B={class:"table-box"},R=b({name:"useTreeFilter"}),F=b({...R,setup(V){const r=_(),g=T([{type:"selection",width:50},{prop:"project_name",label:"项目名称",minWidth:282,search:{el:"input"}},{prop:"project_tag",label:"项目类型",width:160,search:{el:"select",props:{filterable:!0}},fieldNames:{label:"name",value:"id"}},{prop:"project_user_name",label:"所属人员",width:170},{prop:"url_num",label:"URL资产总数",width:170},{prop:"domain_num",label:"Domain资产总数",width:170},{prop:"ip_num",label:"IP资产总数",width:170},{prop:"operation",label:"操作",width:210,fixed:"right"}]),v=async t=>{var e;await u(m,{id:[t.id]},`删除【${t.project_name}】项目`),(e=r.value)==null||e.getTableList()},w=async t=>{var e,a;await u(m,{id:t},"删除所选用户信息"),(e=r.value)==null||e.clearSelection(),(a=r.value)==null||a.getTableList()},d=_(null),c=(t,e={})=>{var o,l;const a={title:t,row:{...e},api:t==="新建"?x:t==="编辑"?j:void 0,getTableList:(o=r.value)==null?void 0:o.getTableList};(l=d.value)==null||l.acceptParams(a)};return(t,e)=>{const a=h("el-button");return L(),D("div",q,[$("div",B,[i(k,{ref_key:"proTable",ref:r,columns:g,"request-api":s(y),"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:n(o=>[i(a,{type:"primary",icon:s(N),onClick:e[0]||(e[0]=l=>c("新建"))},{default:n(()=>e[1]||(e[1]=[p("新建项目")])),_:1},8,["icon"]),i(a,{type:"danger",icon:s(f),disabled:!o.isSelected,onClick:l=>w(o.selectedListIds)},{default:n(()=>e[2]||(e[2]=[p("批量删除项目")])),_:2},1032,["icon","disabled","onClick"])]),operation:n(o=>[i(a,{type:"primary",link:"",icon:s(P),onClick:l=>c("编辑",o.row)},{default:n(()=>e[3]||(e[3]=[p("编辑")])),_:2},1032,["icon","onClick"]),i(a,{type:"primary",link:"",icon:s(f),onClick:l=>v(o.row)},{default:n(()=>e[4]||(e[4]=[p("删除")])),_:2},1032,["icon","onClick"])]),_:1},8,["columns","request-api"]),i(C,{ref_key:"DialogRef",ref:d},null,512)])])}}});export{F as default};
