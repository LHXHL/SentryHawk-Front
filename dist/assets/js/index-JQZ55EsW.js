import{u as p}from"./useHandleData-DW4kA-As.js";import{_ as w}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-D0RK73s3.js";import{T as y}from"./index-ypUc4-rv.js";import{I}from"./index-BjdKsW-_.js";import{z as b,d as g,i as L,m as d,r as u,c as S,o as D,b as a,a as q,u as r,w as n,p as m,e as _}from"./index-Bj5Pylhr.js";import{c as A}from"./assets-DERgPz2g.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sortable.esm-C83syoBY.js";const N=s=>b.post("/getSensitive_dirList/",s),f=s=>b.post("/Sensitive_dir/delete/",s),$={class:"main-box"},j={class:"table-box"},B=g({name:"useTreeFilter"}),U=g({...B,setup(s){const o=L(),c=d({projectId:""}),v=t=>{o.value.pageable.pageNum=1,c.projectId=t},h=d([{type:"selection",width:50},{prop:"url",label:"URL",search:{el:"input"}},{prop:"status",label:"状态",search:{el:"input"}},{prop:"title",label:"敏感目录",search:{el:"input"}},{prop:"target",label:"所属资产",search:{el:"input"}},{prop:"operation",label:"操作",width:210,fixed:"right"}]),x=async t=>{var e;await p(f,{id:[t.id]},`删除【${t.info}】资产`),(e=o.value)==null||e.getTableList()},T=async t=>{var e,i;await p(f,{id:t},"删除所选用户信息"),(e=o.value)==null||e.clearSelection(),(i=o.value)==null||i.getTableList()};return(t,e)=>{const i=u("el-button"),k=u("AssetDialog");return D(),S("div",$,[a(y,{label:"name",title:"单位列表","request-api":r(A),"default-value":c.projectId,onChange:v},null,8,["request-api","default-value"]),q("div",j,[a(w,{ref_key:"proTable",ref:o,columns:h,"request-api":r(N),"init-param":c,"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:n(l=>[a(i,{type:"danger",icon:r(m),disabled:!l.isSelected,onClick:C=>T(l.selectedListIds)},{default:n(()=>e[0]||(e[0]=[_("批量删除")])),_:2},1032,["icon","disabled","onClick"])]),operation:n(l=>[a(i,{type:"primary",link:"",icon:r(m),onClick:C=>x(l.row)},{default:n(()=>e[1]||(e[1]=[_("删除")])),_:2},1032,["icon","onClick"])]),_:1},8,["columns","request-api","init-param"]),a(k,{ref:"DialogRef"},null,512),a(I,{ref:"dialogRef"},null,512)])])}}});export{U as default};
